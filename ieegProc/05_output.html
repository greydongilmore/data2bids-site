
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Greydon Gilmore">
      
      
      
        <link rel="prev" href="01_overview.html">
      
      
        <link rel="next" href="../manuals.html">
      
      <link rel="icon" href="../img/edf2bids_icon.svg">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18">
    
    
      
        <title>Output - data2bids v3.1</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <link rel="stylesheet" href="../assets/stylesheets/main.82a244a8.min.css">

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="red">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ieegproc-output" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="data2bids v3.1" class="md-header__button md-logo" aria-label="data2bids v3.1" data-md-component="logo">
      
  <img src="../img/edf2bids_white_icon.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            data2bids v3.1
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Output
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/greydongilmore/data2bids-site" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="data2bids v3.1" class="md-nav__button md-logo" aria-label="data2bids v3.1" data-md-component="logo">
      
  <img src="../img/edf2bids_white_icon.svg" alt="logo">

    </a>
    data2bids v3.1
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/greydongilmore/data2bids-site" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../installation.html" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Run data2bids
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Run data2bids
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../run_data2bids/01_overview.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../run_data2bids/02_definitions.html" class="md-nav__link">
        Definitions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../run_data2bids/03_edf2bids_settings.html" class="md-nav__link">
        data2bids Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../run_data2bids/04_neuroworks_export.html" class="md-nav__link">
        Export from NeuroWorks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../run_data2bids/05_input_dir_setup.html" class="md-nav__link">
        Input Directory Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../run_data2bids/055_imaging_dir_setup.html" class="md-nav__link">
        Imaging Directory Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../run_data2bids/06_check_edf_type.html" class="md-nav__link">
        Check EDF Type
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../run_data2bids/07_run_conversion.html" class="md-nav__link">
        Run Conversion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../run_data2bids/08_output_structure.html" class="md-nav__link">
        Output Directory Structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../run_data2bids/09_spred_upload.html" class="md-nav__link">
        SPReD Upload [EpLink]
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          ieegProc
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          ieegProc
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="01_overview.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Output
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="05_output.html" class="md-nav__link md-nav__link--active">
        Output
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ieegproc-output" class="md-nav__link">
    ieegProc output
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visual-qa" class="md-nav__link">
    Visual QA
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#atlasreg-derivatives" class="md-nav__link">
    atlasreg derivatives
  </a>
  
    <nav class="md-nav" aria-label="atlasreg derivatives">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-input-image-volumes" class="md-nav__link">
    Step 1: input image volumes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-rigid-registration" class="md-nav__link">
    Step 2: rigid registration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-affinenon-linear-registration" class="md-nav__link">
    Step 3: affine/non-linear registration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-tissue-segmentation" class="md-nav__link">
    Step 4: tissue segmentation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seeg_coordinates-derivatives" class="md-nav__link">
    seeg_coordinates derivatives
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sample-qa-figures" class="md-nav__link">
    Sample QA figures
  </a>
  
    <nav class="md-nav" aria-label="Sample QA figures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#coregistration-of-t1w-without-contrast-to-t1wgadolinum" class="md-nav__link">
    Coregistration of T1w without contrast to T1w+gadolinum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coregistration-of-post-op-ct-to-t1wgadolinum" class="md-nav__link">
    Coregistration of post-op CT to T1w+gadolinum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#electrode-contact-positions-in-2d-and-3d" class="md-nav__link">
    Electrode contact positions in 2D and 3D
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../manuals.html" class="md-nav__link">
        Product Manuals
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../other_software.html" class="md-nav__link">
        Other Software
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../open_datasets.html" class="md-nav__link">
        Open Datasets
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ieegproc-output" class="md-nav__link">
    ieegProc output
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visual-qa" class="md-nav__link">
    Visual QA
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#atlasreg-derivatives" class="md-nav__link">
    atlasreg derivatives
  </a>
  
    <nav class="md-nav" aria-label="atlasreg derivatives">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-input-image-volumes" class="md-nav__link">
    Step 1: input image volumes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-rigid-registration" class="md-nav__link">
    Step 2: rigid registration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-affinenon-linear-registration" class="md-nav__link">
    Step 3: affine/non-linear registration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-tissue-segmentation" class="md-nav__link">
    Step 4: tissue segmentation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seeg_coordinates-derivatives" class="md-nav__link">
    seeg_coordinates derivatives
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sample-qa-figures" class="md-nav__link">
    Sample QA figures
  </a>
  
    <nav class="md-nav" aria-label="Sample QA figures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#coregistration-of-t1w-without-contrast-to-t1wgadolinum" class="md-nav__link">
    Coregistration of T1w without contrast to T1w+gadolinum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coregistration-of-post-op-ct-to-t1wgadolinum" class="md-nav__link">
    Coregistration of post-op CT to T1w+gadolinum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#electrode-contact-positions-in-2d-and-3d" class="md-nav__link">
    Electrode contact positions in 2D and 3D
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
  
  
  
  <a href="https://github.com/greydongilmore/data2bids-site/blob/master/docs/ieegProc/05_output.md" title="" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
  </a>
  <a href="https://github.com/greydongilmore/data2bids-site/blob/master/docs/ieegProc/05_output.md" title="View source of this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
  </a>



  <h1>Output</h1>

<h2 id="ieegproc-output">ieegProc output<a class="headerlink" href="#ieegproc-output" title="Permanent link">&para;</a></h2>
<p>The output files from <em>ieegProc</em> conform to the <a href="https://bids-specification.readthedocs.io/en/stable/05-derivatives/01-introduction.html" target="_blank">BIDS Derivatives specification</a>. In general, there are two classes of data outputs from <em>ieegProc</em>:</p>
<ol>
<li>
<p><strong>Visual QA (quality assessment):</strong> summary figures are generated throughout the pipeline so the user can confirm accuracy.</p>
</li>
<li>
<p><strong>Derivative (preprocessed):</strong> processed data that is ready for analysis after various preparation procedures have been applied (i.e. INU-corrected versions of the T1-weighted image, the brain mask, electrode contact coordinate files etc). All data is aligned into the same-subject’s T1w space.</p>
</li>
</ol>
<p>The <em>ieegProc</em> output directory has the following structure:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>derivatives/
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    ├── atlasreg/
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    │       ├── dataset_description.json
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    │       └── sub-&lt;subject_label&gt;/
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    │               ├── qc/...
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    │               └── &lt;processed_files&gt;...
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    │
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    └── seeg_coordinates/
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>            ├── dataset_description.json
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>            └── sub-P001/
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>                    └── &lt;processed_files&gt;...
</span></code></pre></div>
<p>For each participant in the dataset, a subject specific directory (<code>sub-&lt;subject_label&gt;</code>) will be generated in two locations:</p>
<ol>
<li><code>atlasreg</code>: this directory contains processed data files from the imaging analysis pipelines.</li>
<li><code>seeg_coordinates</code>: this directory will store the electrode contact coordinates in several coordinate spaces (see ). </li>
</ol>
<p>The <code>dataset_description.json</code> is a metadata file in which ieegProc records metadata required by the BIDS standard.</p>
<h2 id="visual-qa">Visual QA<a class="headerlink" href="#visual-qa" title="Permanent link">&para;</a></h2>
<p><em>ieegProc</em> generates summary figures which are stored in a directory labelled <code>qc</code> within each patient directory under <code>atlasreg</code>. The figures provide a snapshot of the results from various parts of the pipeline.</p>
<div class="language-java highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">derivatives</span><span class="o">/</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span><span class="err">└──</span><span class="w"> </span><span class="n">atlasreg</span><span class="o">/</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">        </span><span class="err">└──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">                </span><span class="err">└──</span><span class="w"> </span><span class="n">qc</span><span class="o">/</span><span class="p">...</span>
</span></code></pre></div>
<h2 id="atlasreg-derivatives">atlasreg derivatives<a class="headerlink" href="#atlasreg-derivatives" title="Permanent link">&para;</a></h2>
<h3 id="step-1-input-image-volumes">Step 1: input image volumes<a class="headerlink" href="#step-1-input-image-volumes" title="Permanent link">&para;</a></h3>
<p><strong>ieegProc</strong> begins by copying the relevant imaging volumes from the <code>bids</code> directory to the <code>atlasreg</code> directory. <strong>ieegProc</strong> will search for four image volumes as input. At minimum, <strong>ieegProc</strong> requires a T1w volume and a post-op CT to run.</p>
<ul>
<li><strong>T1w</strong> with gadolinium</li>
<li><strong>T1w</strong> without gadolinium</li>
<li>post-op <strong>CT</strong> containing electrodes/grids/strips</li>
<li><strong>PET</strong></li>
</ul>
<p>After copying, each volume is renamed accordinly:</p>
<ul>
<li><code>sub-&lt;subject_label&gt;_acq-contrast_T1w.nii.gz</code>: <strong>T1w</strong> gad-enhanced</li>
<li><code>sub-&lt;subject_label&gt;_acq-noncontrast_T1w.nii.gz</code>: <strong>T1w</strong> non-enhanced</li>
<li><code>sub-&lt;subject_label&gt;_ct.nii.gz</code>: post-op <strong>CT</strong> containing electrodes/grids/strips</li>
<li><code>sub-&lt;subject_label&gt;_pet.nii.gz</code>: <strong>PET</strong></li>
</ul>
<p>Execpt for the filename, these volumes will remain an identical copy to the ones found in the <code>bids</code> directory.</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">derivatives</span><span class="o">/</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    <span class="err">└──</span> <span class="n">atlasreg</span><span class="o">/</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>        <span class="err">└──</span> <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>                <span class="err">├──</span> <span class="n">qc</span><span class="o">/...</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>                <span class="err">├──</span> <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_acq</span><span class="o">-</span><span class="n">contrast_T1w</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>                <span class="err">├──</span> <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_acq</span><span class="o">-</span><span class="n">noncontrast_T1w</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>                <span class="err">├──</span> <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_ct</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>                <span class="err">└──</span> <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_pet</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
</span></code></pre></div>
<h3 id="step-2-rigid-registration">Step 2: rigid registration<a class="headerlink" href="#step-2-rigid-registration" title="Permanent link">&para;</a></h3>
<p>In sterotaxy, gadolinium contrast provides simultaneous enhancement of vessels and gray/white matter contrast within a single T1w volume. Preoperative trajectory planning is done on the enhanced T1w volume. Thus, this volume is chosen first as the fixed image during registration. If an enhanced T1w volume doesn't exists, then the non-enhanced will be used as the fixed image.</p>
<p>Currently, two registration algorithms are included:</p>
<ol>
<li><code>reg_aladin</code>: command-line function from NiftyReg, developed by Marc Modat (<a href="https://sourceforge.net/projects/niftyreg/" target="_blank">NiftyReg</a>)</li>
<li><code>greedy</code>: command-line function for fast image registration, developed by Paul Yushkevich (<a href="https://sites.google.com/view/greedyreg/about" target="_blank">Greedy</a>)</li>
</ol>
<p>For each floating volume (<code>&lt;volume_type&gt;</code>), the rigid registration step will generate the following files:</p>
<ul>
<li><code>sub-&lt;subject_label&gt;_space-T1w_desc-rigid_&lt;volume_type&gt;.nii.gz</code>: floating volume with the rigid transform applied without interpolation.</li>
<li><code>sub-&lt;subject_label&gt;_space-T1w_desc-rigidInterp_&lt;volume_type&gt;.nii.gz</code>: floating volume with the rigid transform applied with linear interpolation.</li>
<li><code>sub-&lt;subject_label&gt;_desc-rigid_from-&lt;volume_type&gt;_to-T1w_type-ras_xfm.txt</code>: rigid transform matrix from floating to fixed image space in RAS <code>.txt</code> format.</li>
<li><code>sub-&lt;subject_label&gt;_desc-rigid_to-&lt;volume_type&gt;_from-T1w_type-ras_xfm.txt</code>: rigid transform matrix to floating from fixed image space in RAS <code>.txt</code> format.</li>
<li><code>sub-&lt;subject_label&gt;_desc-rigid_from-&lt;volume_type&gt;_to-T1w_type-ras_xfm.tfm</code>: rigid transform matrix from floating to fixed image space in 3D Slicer <code>.tfm</code> format.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since there can be up to two T1w volumes, <em>ieegProc</em> will copy one of the volumes to a new file labelled <code>sub-&lt;subject_label&gt;_T1w.nii.gz</code>. From this point onward, any step requiring a T1w volume as input will link to this new volume. If only one T1w volume exists, then <code>sub-&lt;subject_label&gt;_T1w.nii.gz</code> will be an identical copy. If both gad-enhanced and non-enhanced T1w volumes exist then the non-enhanced volume will be copied to <code>sub-&lt;subject_label&gt;_T1w.nii.gz</code>.</p>
</div>
<h3 id="step-3-affinenon-linear-registration">Step 3: affine/non-linear registration<a class="headerlink" href="#step-3-affinenon-linear-registration" title="Permanent link">&para;</a></h3>
<p><em>ieegProc</em> will perform template space normalization using the newly renamed T1w volume (see note above) as the floating image. For the affine registration step, either <code>reg_aladin</code> or <code>greedy</code> can be used. For the non-linear registration step, either <code>ANTS</code> or <code>greedy</code> can be used. These options can be configured in the <code>config.yml</code> file.</p>
<p>After both registration steps, the following files will be generated:</p>
<ul>
<li><code>sub-&lt;subject_label&gt;_desc-n4_T1w.nii.gz</code>: T1w volume with <code>N4BiasFieldCorrection</code> performed.</li>
<li><code>sub-&lt;subject_label&gt;_space-&lt;template_space&gt;_desc-affine_T1w.nii.gz</code>: T1w volume with affine transform applied to template space with linear interpolation.</li>
<li><code>sub-&lt;subject_label&gt;_desc-affine_from-subject_to-&lt;template_space&gt;_type-ras_xfm.txt</code>: affine transform matrix from subject space to template space in RAS <code>.txt</code> format.</li>
<li><code>sub-&lt;subject_label&gt;_desc-affine_to-subject_from-&lt;template_space&gt;_type-ras_xfm.txt</code>: affine transform matrix from template space to subject space in RAS <code>.txt</code> format.</li>
<li><code>sub-&lt;subject_label&gt;_desc-affine_from-subject_to-&lt;template_space&gt;_type-itk_xfm.txt</code>: affine transform matrix from subject space to template space in ITK <code>.txt</code> format.</li>
<li><code>sub-&lt;subject_label&gt;_desc-affine_from-subject_to-&lt;template_space&gt;_type-itk_xfm.tfm</code>: affine transform matrix from subject space to template space in 3D Slicer <code>.tfm</code> format.</li>
</ul>
<h3 id="step-4-tissue-segmentation">Step 4: tissue segmentation<a class="headerlink" href="#step-4-tissue-segmentation" title="Permanent link">&para;</a></h3>
<p><em>ieegProc</em> will perform image segmentation of three structures within the T1w volume: white matter, gray matter, and CSF. To improve segmenation outcomes, the chosen template space brain mask and WM/GM/CSF probabilistic tissue segmentations are warped to T1w volume space. This helps to highlight the areas that are brain and not skull/dura/etc.</p>
<ul>
<li><code>sub-&lt;subject_label&gt;_label-brain_desc-affine_from-&lt;template_space&gt;_mask.nii.gz</code>: template space brain mask with the affine transform applied to T1w volume space.</li>
<li><code>sub-&lt;subject_label&gt;_label-&lt;CSF/WM/GM&gt;_desc-affine_from-&lt;template_space&gt;_probseg.nii.gz</code>: template space probabilistic segmentations with the affine transform applied to T1w volume space.</li>
</ul>
<p>After the segmentation step, the following files will be generated:</p>
<ul>
<li><code>sub-&lt;subject_label&gt;_desc-atropos3seg_mapping.json</code>: </li>
<li><code>sub-P033_desc-atroposKseg_dseg.nii.gz</code>: </li>
<li><code>sub-P033_desc-atroposKseg_probseg.nii.gz</code>:</li>
</ul>
<div class="language-java highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">derivatives</span><span class="o">/</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="err">└──</span><span class="w"> </span><span class="n">atlasreg</span><span class="o">/</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">        </span><span class="err">└──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">qc</span><span class="o">/</span><span class="p">...</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_acq</span><span class="o">-</span><span class="n">contrast_T1w</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_acq</span><span class="o">-</span><span class="n">noncontrast_T1w</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_ct</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_acq</span><span class="o">-</span><span class="n">noncontrast_space</span><span class="o">-</span><span class="n">T1w_desc</span><span class="o">-</span><span class="n">affine_T1w</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_T1w</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-</span><span class="n">MNI152NLin2009cSym_desc</span><span class="o">-</span><span class="n">affine_T1w</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">brain_from</span><span class="o">-</span><span class="n">MNI152NLin2009cSym_reg</span><span class="o">-</span><span class="n">affine_mask</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_label</span><span class="o">-</span><span class="n">CSF_from</span><span class="o">-</span><span class="n">MNI152NLin2009cSym_reg</span><span class="o">-</span><span class="n">affine_probseg</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_label</span><span class="o">-</span><span class="n">GM_from</span><span class="o">-</span><span class="n">MNI152NLin2009cSym_reg</span><span class="o">-</span><span class="n">affine_probseg</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_label</span><span class="o">-</span><span class="n">WM_from</span><span class="o">-</span><span class="n">MNI152NLin2009cSym_reg</span><span class="o">-</span><span class="n">affine_probseg</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-</span><span class="n">T1w_desc</span><span class="o">-</span><span class="n">affine_ct</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-</span><span class="n">ct_desc</span><span class="o">-</span><span class="n">mask_contacts</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">n4_T1w</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">atroposKseg_dseg</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">atroposKseg_probseg</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_label</span><span class="o">-</span><span class="n">CSF_desc</span><span class="o">-</span><span class="n">atropos3seg_probseg</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_label</span><span class="o">-</span><span class="n">GM_desc</span><span class="o">-</span><span class="n">atropos3seg_probseg</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_label</span><span class="o">-</span><span class="n">WM_desc</span><span class="o">-</span><span class="n">atropos3seg_probseg</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">atropos3seg_probseg</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">brain_from</span><span class="o">-</span><span class="n">atropos3seg_mask</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">masked_from</span><span class="o">-</span><span class="n">atropos3seg_T1w</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-</span><span class="n">MNI152NLin2009cSym_desc</span><span class="o">-</span><span class="n">SyN_T1w</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_atlas</span><span class="o">-</span><span class="n">CerebrA_from</span><span class="o">-</span><span class="n">MNI152NLin2009cSym_reg</span><span class="o">-</span><span class="n">SyN_dseg</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a><span class="w">                </span><span class="err">└──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">dilated_atlas</span><span class="o">-</span><span class="n">CerebrA_from</span><span class="o">-</span><span class="n">MNI152NLin2009cSym_reg</span><span class="o">-</span><span class="n">SyN_dseg</span><span class="p">.</span><span class="na">nii</span><span class="p">.</span><span class="na">gz</span>
</span></code></pre></div>
<p>Spatially-standardized derivatives are denoted with a <code>space-</code> label. Within patient volumes are registered to the volumetric T1w so the space is denoated <code>space-T1w</code> for these volumes. Other derivatives will have been coregistered to a template space, such as <code>MNI152NLin2009cSym</code>.</p>
<p>The registration transform matricies are stored in <code>.txt</code> and <code>.tfm</code> files to allow for easy loading into 3D Slicer.</p>
<div class="language-java highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">derivatives</span><span class="o">/</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="err">└──</span><span class="w"> </span><span class="n">atlasreg</span><span class="o">/</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">        </span><span class="err">└──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">qc</span><span class="o">/</span><span class="p">...</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_acq</span><span class="o">-</span><span class="n">noncontrast_desc</span><span class="o">-</span><span class="n">affine_from</span><span class="o">-</span><span class="n">T1w_to</span><span class="o">-</span><span class="n">T1w_type</span><span class="o">-</span><span class="n">ras_xfm</span><span class="p">.</span><span class="na">txt</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">affine_from</span><span class="o">-</span><span class="n">subject_to</span><span class="o">-</span><span class="n">MNI152NLin2009cSym_type</span><span class="o">-</span><span class="n">itk_xfm</span><span class="p">.</span><span class="na">txt</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">affine_from</span><span class="o">-</span><span class="n">subject_to</span><span class="o">-</span><span class="n">MNI152NLin2009cSym_type</span><span class="o">-</span><span class="n">ras_xfm</span><span class="p">.</span><span class="na">txt</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">affine_from</span><span class="o">-</span><span class="n">ct_to</span><span class="o">-</span><span class="n">T1w_type</span><span class="o">-</span><span class="n">ras_xfm</span><span class="p">.</span><span class="na">txt</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_from</span><span class="o">-</span><span class="n">subject_to</span><span class="o">-</span><span class="n">MNI152NLin2009cSym_Composite</span><span class="p">.</span><span class="na">h5</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">                </span><span class="err">└──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_from</span><span class="o">-</span><span class="n">subject_to</span><span class="o">-</span><span class="n">MNI152NLin2009cSym_InverseComposite</span><span class="p">.</span><span class="na">h5</span>
</span></code></pre></div>
<p>The remaining files provide information about the pipeline.</p>
<div class="language-java highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">derivatives</span><span class="o">/</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="err">└──</span><span class="w"> </span><span class="n">atlasreg</span><span class="o">/</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">        </span><span class="err">└──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">qc</span><span class="o">/</span><span class="p">...</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">atropos3seg_mapping</span><span class="p">.</span><span class="na">json</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">                </span><span class="err">├──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">dilated_atlas</span><span class="o">-</span><span class="n">CerebrA_from</span><span class="o">-</span><span class="n">MNI152NLin2009cSym_electrodes</span><span class="p">.</span><span class="na">tsv</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">                </span><span class="err">└──</span><span class="w"> </span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">dilated_atlas</span><span class="o">-</span><span class="n">CerebrA_from</span><span class="o">-</span><span class="n">MNI152NLin2009cSym_electrodes</span><span class="p">.</span><span class="na">xlsx</span>
</span></code></pre></div>
<p>The files within the <code>qc</code> derivatives directory are:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>derivatives/
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>    └── atlasreg/
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>        └── sub-&lt;subject_label&gt;/
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>                └── qc/
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>                    ├── sub-&lt;subject_label&gt;_acq-contrast_from-T1w_to-T1w_regqc.png
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>                    ├── sub-&lt;subject_label&gt;_desc-masked_from-ct_to-T1w_regqc.png
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>                    ├── sub-&lt;subject_label&gt;_desc-affine_from-subject_to-MNI152NLin2009cSym_regqc.html
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>                    ├── sub-&lt;subject_label&gt;_desc-affine_from-subject_to-MNI152NLin2009cSym_regqc.png
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>                    ├── sub-&lt;subject_label&gt;_desc-atropos3seg_probseg.png
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>                    ├── sub-&lt;subject_label&gt;_atlas-CerebrA_from-MNI152NLin2009cSym_dseg.html
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>                    ├── sub-&lt;subject_label&gt;_atlas-CerebrA_from-MNI152NLin2009cSym_dseg.png
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>                    ├── sub-&lt;subject_label&gt;_desc-dilated_atlas-CerebrA_from-MNI152NLin2009cSym_dseg.png
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>                    ├── sub-&lt;subject_label&gt;_space-ct_desc-mask_contacts.html
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>                    ├── sub-&lt;subject_label&gt;_space-MNI152NLin2009cSym_desc-affine_electrodes.html
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>                    └── sub-&lt;subject_label&gt;_space-MNI152NLin2009cSym_desc-affine_electrodevis.png
</span></code></pre></div>
<h3 id="seeg_coordinates-derivatives">seeg_coordinates derivatives<a class="headerlink" href="#seeg_coordinates-derivatives" title="Permanent link">&para;</a></h3>
<p>The files within the <code>seeg_coordinates</code> derivatives directory are:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>derivatives/
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>    └── seeg_coordinates/
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>        └── sub-&lt;subject_label&gt;/
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>                ├── sub-&lt;subject_label&gt;_mapping.tsv
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>                ├── sub-&lt;subject_label&gt;_space-T1w_mcp.tfm
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>                ├── sub-&lt;subject_label&gt;_space-acpc_actual.fcsv
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>                ├── sub-&lt;subject_label&gt;_space-acpc_actual.tsv
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>                ├── sub-&lt;subject_label&gt;_space-acpc_planned.fcsv
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>                ├── sub-&lt;subject_label&gt;_space-acpc_planned.tsv
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>                ├── sub-&lt;subject_label&gt;_space-acpc_SEEGA.fcsv
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>                ├── sub-&lt;subject_label&gt;_space-acpc_SEEGA.tsv
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>                ├── sub-&lt;subject_label&gt;_space-native_actual.fcsv
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>                ├── sub-&lt;subject_label&gt;_space-native_actual.tsv
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>                ├── sub-&lt;subject_label&gt;_space-native_planned.fcsv
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>                ├── sub-&lt;subject_label&gt;_space-native_planned.tsv
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a>                ├── sub-&lt;subject_label&gt;_space-native_SEEGA.fcsv
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>                └── sub-&lt;subject_label&gt;_space-native_SEEGA.tsv
</span></code></pre></div>
<h2 id="sample-qa-figures">Sample QA figures<a class="headerlink" href="#sample-qa-figures" title="Permanent link">&para;</a></h2>
<h3 id="coregistration-of-t1w-without-contrast-to-t1wgadolinum">Coregistration of T1w without contrast to T1w+gadolinum<a class="headerlink" href="#coregistration-of-t1w-without-contrast-to-t1wgadolinum" title="Permanent link">&para;</a></h3>
<p><center><img src="imgs/sub-P078_desc-masked_from-noncontrast_to-contrast_regqc.svg" alt="drawing"/></center>
<br><br></p>
<h3 id="coregistration-of-post-op-ct-to-t1wgadolinum">Coregistration of post-op CT to T1w+gadolinum<a class="headerlink" href="#coregistration-of-post-op-ct-to-t1wgadolinum" title="Permanent link">&para;</a></h3>
<p><center><img src="imgs/sub-P078_desc-masked_from-ct_to-T1w_regqc.svg" alt="drawing"/></center>
<br><br></p>
<h3 id="electrode-contact-positions-in-2d-and-3d">Electrode contact positions in 2D and 3D<a class="headerlink" href="#electrode-contact-positions-in-2d-and-3d" title="Permanent link">&para;</a></h3>
<p><center><img src="imgs/sub-P078_space-MNI152NLin2009cSym_desc-affine_electrodevis.png" alt="drawing"/></center></p>
<p><center><embed type="text/html" src="imgs/sub-P078_space-MNI152NLin2009cSym_desc-affine_electrodes.html" width="900" height="700"/></center></p>


              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2020 Greydon Gilmore
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
  
      <script src="../assets/javascripts/bundle.220ee61c.min.js"></script>
      
        
          <script src="https://unpkg.com/mermaid@8.4.4/dist/mermaid.min.js"></script>
        
      
        
          <script src="../javascripts/mathjax.js"></script>
        
      
        
          <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        
      
        
          <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        
      
    
  <script src="../assets/javascripts/bundle.39654835.min.js"></script>

  </body>
</html>